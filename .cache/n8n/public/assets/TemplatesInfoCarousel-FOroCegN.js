import{G as C,ag as s,l as n,M as p,a9 as T,O as l,p as h,I as c,R as _,H as I,T as i,K as L,V as u,U as m,S as N,J as W,m as g,F as S,a7 as v}from"./vendor-NNwioulI.js";import{_ as y}from"./n8n-_nNvRoCf.js";import{N as R}from"./NodeList-_14w6OPV.js";import{V}from"./vue-agile-opIkBolK.js";const M=C({name:"Card",props:{loading:{type:Boolean},title:{type:String}}}),P="_card_1ndsl_5",A="_title_1ndsl_21",z={card:P,title:A},F=["textContent"];function q(t,e,d,$,w,b){const a=s("n8n-loading"),r=s("n8n-card");return n(),p(r,L({class:t.$style.card},t.$attrs),T({default:l(()=>[i(a,{loading:t.loading,rows:3,variant:"p"},null,8,["loading"])]),_:2},[t.loading?void 0:{name:"header",fn:l(()=>[h("span",{class:c(t.$style.title),textContent:_(t.title)},null,10,F)]),key:"0"},t.loading?void 0:{name:"footer",fn:l(()=>[I(t.$slots,"footer")]),key:"1"}]),1040,["class"])}const D={$style:z},E=y(M,[["render",q],["__cssModules",D]]),O=C({name:"TemplatesInfoCard",components:{Card:E,NodeList:R},props:{loading:{type:Boolean},collection:{type:Object},showItemCount:{type:Boolean,default:!0},width:{type:String,required:!0}}});function U(t,e,d,$,w,b){const a=s("n8n-text"),r=s("NodeList"),f=s("Card");return n(),p(f,{loading:t.loading,title:t.collection.name,style:W({width:t.width})},{footer:l(()=>[h("span",null,[u(i(a,{size:"small",color:"text-light"},{default:l(()=>[N(_(t.collection.workflows.length)+" "+_(t.$locale.baseText("templates.workflows")),1)]),_:1},512),[[m,t.showItemCount]])]),i(r,{nodes:t.collection.nodes,"show-more":!1},null,8,["nodes"])]),_:1},8,["loading","title","style"])}const j=y(O,[["render",U]]),G=C({name:"TemplatesInfoCarousel",components:{Card:E,TemplatesInfoCard:j,agile:V},props:{collections:{type:Array},loading:{type:Boolean},showItemCount:{type:Boolean,default:!0},showNavigation:{type:Boolean,default:!0},cardsWidth:{type:String,default:"240px"}},data(){return{carouselScrollPosition:0,cardWidth:parseInt(this.cardsWidth,10),sliderWidth:0,scrollEnd:!1,listElement:null}},watch:{collections(){setTimeout(()=>{this.updateCarouselScroll()},0)},loading(){setTimeout(()=>{this.updateCarouselScroll()},0)}},async mounted(){await this.$nextTick();const t=this.$refs.slider;t&&(this.listElement=t.$el.querySelector(".agile__list"),this.listElement&&this.listElement.addEventListener("scroll",this.updateCarouselScroll))},beforeUnmount(){const t=this.$refs.slider;t&&t.destroy(),window.removeEventListener("scroll",this.updateCarouselScroll)},methods:{updateCarouselScroll(){if(this.listElement){this.carouselScrollPosition=Number(this.listElement.scrollLeft.toFixed());const t=this.listElement.clientWidth,e=this.listElement.scrollWidth,d=this.carouselScrollPosition;this.scrollEnd=e-t<=d+7}},onCardClick(t,e){this.$emit("openCollection",{event:t,id:e})},scrollLeft(){this.listElement&&this.listElement.scrollBy({left:-(this.cardWidth*2),top:0,behavior:"smooth"})},scrollRight(){this.listElement&&this.listElement.scrollBy({left:this.cardWidth*2,top:0,behavior:"smooth"})}}}),H="_container_gpmxb_5",J="_button_gpmxb_9",K="_leftButton_gpmxb_30 _button_gpmxb_9",Q="_rightButton_gpmxb_39 _button_gpmxb_9",X={container:H,button:J,leftButton:K,rightButton:Q};function Y(t,e,d,$,w,b){const a=s("Card"),r=s("TemplatesInfoCard"),f=s("agile"),B=s("font-awesome-icon");return u((n(),g("div",{class:c(t.$style.container)},[i(f,{ref:"slider",dots:!1,"nav-buttons":!1,infinite:!1,"slides-to-show":4,onAfterChange:t.updateCarouselScroll},{default:l(()=>[(n(!0),g(S,null,v(t.loading?4:0,o=>(n(),p(a,{key:`loading-${o}`,loading:t.loading},null,8,["loading"]))),128)),(n(!0),g(S,null,v(t.loading?[]:t.collections,o=>(n(),p(r,{key:o.id,"data-test-id":"templates-info-card",collection:o,"show-item-count":t.showItemCount,width:t.cardsWidth,onClick:k=>t.onCardClick(k,o.id)},null,8,["collection","show-item-count","width","onClick"]))),128))]),_:1},8,["onAfterChange"]),u(h("button",{class:c({[t.$style.leftButton]:!0}),onClick:e[0]||(e[0]=(...o)=>t.scrollLeft&&t.scrollLeft(...o))},[i(B,{icon:"chevron-left"})],2),[[m,t.showNavigation&&t.carouselScrollPosition>0]]),u(h("button",{class:c({[t.$style.rightButton]:!0}),onClick:e[1]||(e[1]=(...o)=>t.scrollRight&&t.scrollRight(...o))},[i(B,{icon:"chevron-right"})],2),[[m,t.showNavigation&&!t.scrollEnd]])],2)),[[m,t.loading||t.collections.length]])}const Z={$style:X},st=y(G,[["render",Y],["__cssModules",Z]]);export{st as T};
//# sourceMappingURL=TemplatesInfoCarousel-FOroCegN.js.map
