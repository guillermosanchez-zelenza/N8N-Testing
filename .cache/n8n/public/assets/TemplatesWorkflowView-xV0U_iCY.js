import{m as v}from"./pinia-aUqqC48i.js";import{T as S}from"./TemplateDetails-ODkdkgqi.js";import{T as I}from"./TemplatesView-iIGCTbv6.js";import{aw as F,w as P,I as w}from"./index-xP-VuMjv.js";import{as as B,fJ as f,y as H,a5 as V,_ as C}from"./n8n-_nNvRoCf.js";import{u as W}from"./templateActions-cwvPeOiI.js";import{G as E,ag as t,l as a,M as s,a9 as N,O as r,p as l,Q as m,I as o,T as i,m as g,S as p,R as d}from"./vendor-NNwioulI.js";import"./@n8n/codemirror-lang-sql-feLn5IS9.js";import"./@lezer/common-1hBQ1gIF.js";import"./codemirror-lang-html-n8n-wWQLhhqk.js";import"./prettier-s3fE3Qyr.js";import"./@jsplumb/util-DR0SB56A.js";import"./@jsplumb/core-MKwKlGip.js";import"./@jsplumb/common-Q5_tv_GT.js";import"./@jsplumb/connector-bezier-3dWY17R5.js";import"./lodash-es-5z_C16pm.js";import"./@jsplumb/browser-ui-AlqFM-P6.js";import"./uuid-McvpxQtQ.js";import"./luxon-ZRIU05qF.js";import"./esprima-next-ulPLCZ1Z.js";import"./@vueuse/core-8g26_cc0.js";import"./codemirror-lang-n8n-expression-HpIZnV_9.js";import"./fast-json-stable-stringify-eHEaCv8s.js";import"./timeago.js--Bumj2r9.js";import"./qrcode.vue-UdCmS1Sj.js";import"./vue3-touch-events-_RfbPMOD.js";import"./chart.js-JtqvIvkt.js";import"./axios-s2RMMPhA.js";import"./flatted-jPn12Tq4.js";import"./vue-i18n-1PEMRmUU.js";import"./@n8n/permissions-8yMqUF1Y.js";const z=E({name:"TemplatesWorkflowView",components:{TemplateDetails:S,TemplatesView:I,WorkflowPreview:F},mixins:[P],setup(){return{externalHooks:V()}},computed:{...v(w,B),template(){return this.templatesStore.getFullTemplateById(this.templateId)},templateId(){return Array.isArray(this.$route.params.id)?this.$route.params.id[0]:this.$route.params.id}},data(){return{loading:!0,showPreview:!0,notFoundError:!1}},watch:{template(e){e?f(`n8n - Template template: ${e.name}`):f("n8n - Templates")}},async mounted(){if(this.scrollToTop(),this.template&&this.template.full){this.loading=!1;return}try{await this.templatesStore.fetchTemplateById(this.templateId)}catch{this.notFoundError=!0}this.loading=!1},methods:{async openTemplateSetup(e,n){await W({posthogStore:this.posthogStore,router:this.$router,templateId:e,inNewBrowserTab:n.metaKey||n.ctrlKey,externalHooks:this.externalHooks,nodeTypesStore:H(),telemetry:this.$telemetry,templatesStore:w(),source:"template_preview"})},onHidePreview(){this.showPreview=!1},scrollToTop(){const e=document.getElementById("content");e&&e.scrollTo({top:0})}}}),D="_wrapper_1c2lm_5",A="_notFound_1c2lm_10",M="_title_1c2lm_14",K="_button_1c2lm_18",G="_image_1c2lm_22",J="_content_1c2lm_33",O="_markdown_1c2lm_44",Q="_details_1c2lm_55",R={wrapper:D,notFound:A,title:M,button:K,image:G,content:J,markdown:O,details:Q};function j(e,n,L,U,X,Y){const k=t("n8n-heading"),u=t("n8n-text"),c=t("n8n-loading"),T=t("n8n-button"),h=t("WorkflowPreview"),y=t("n8n-markdown"),$=t("TemplateDetails"),b=t("TemplatesView");return a(),s(b,{"go-back-enabled":!0},N({header:r(()=>[e.notFoundError?(a(),g("div",{key:1,class:o(e.$style.notFound)},[i(u,{color:"text-base"},{default:r(()=>[p(d(e.$locale.baseText("templates.workflowsNotFound")),1)]),_:1})],2)):(a(),g("div",{key:0,class:o(e.$style.wrapper)},[l("div",{class:o(e.$style.title)},[e.template&&e.template.name?(a(),s(k,{key:0,tag:"h1",size:"2xlarge"},{default:r(()=>[p(d(e.template.name),1)]),_:1})):m("",!0),e.template&&e.template.name?(a(),s(u,{key:1,color:"text-base",size:"small"},{default:r(()=>[p(d(e.$locale.baseText("generic.workflow")),1)]),_:1})):m("",!0),i(c,{loading:!e.template||!e.template.name,rows:2,variant:"h1"},null,8,["loading"])],2),l("div",{class:o(e.$style.button)},[e.template?(a(),s(T,{key:0,"data-test-id":"use-template-button",label:e.$locale.baseText("template.buttons.useThisWorkflowButton"),size:"large",onClick:n[0]||(n[0]=_=>e.openTemplateSetup(e.templateId,_))},null,8,["label"])):m("",!0),i(c,{loading:!e.template,rows:1,variant:"button"},null,8,["loading"])],2)],2))]),_:2},[e.notFoundError?void 0:{name:"content",fn:r(()=>[l("div",{class:o(e.$style.image)},[e.showPreview?(a(),s(h,{key:0,loading:e.loading,workflow:e.template&&e.template.workflow,onClose:e.onHidePreview},null,8,["loading","workflow","onClose"])):m("",!0)],2),l("div",{class:o(e.$style.content)},[l("div",{class:o(e.$style.markdown),"data-test-id":"template-description"},[i(y,{content:e.template&&e.template.description,images:e.template&&e.template.image,loading:e.loading},null,8,["content","images","loading"])],2),l("div",{class:o(e.$style.details)},[i($,{"block-title":e.$locale.baseText("template.details.appsInTheWorkflow"),loading:e.loading,template:e.template},null,8,["block-title","loading","template"])],2)],2)]),key:"0"}]),1024)}const q={$style:R},Be=C(z,[["render",j],["__cssModules",q]]);export{Be as default};
//# sourceMappingURL=TemplatesWorkflowView-xV0U_iCY.js.map
