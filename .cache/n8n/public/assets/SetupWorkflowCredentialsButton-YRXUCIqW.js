import{v as _,y as E,u as S,as as T,fM as w,dL as m,x as k}from"./n8n-_nNvRoCf.js";import{aO as b}from"./index-xP-VuMjv.js";import{G as v,e as n,d as y,y as M,ag as N,l as g,M as I,u as x,Q as A}from"./vendor-NNwioulI.js";import"./lodash-es-5z_C16pm.js";import"./axios-s2RMMPhA.js";import"./flatted-jPn12Tq4.js";import"./esprima-next-ulPLCZ1Z.js";import"./luxon-ZRIU05qF.js";import"./pinia-aUqqC48i.js";import"./@vueuse/core-8g26_cc0.js";import"./uuid-McvpxQtQ.js";import"./vue-i18n-1PEMRmUU.js";import"./@n8n/permissions-8yMqUF1Y.js";import"./@n8n/codemirror-lang-sql-feLn5IS9.js";import"./@lezer/common-1hBQ1gIF.js";import"./codemirror-lang-html-n8n-wWQLhhqk.js";import"./prettier-s3fE3Qyr.js";import"./@jsplumb/util-DR0SB56A.js";import"./@jsplumb/core-MKwKlGip.js";import"./@jsplumb/common-Q5_tv_GT.js";import"./@jsplumb/connector-bezier-3dWY17R5.js";import"./@jsplumb/browser-ui-AlqFM-P6.js";import"./codemirror-lang-n8n-expression-HpIZnV_9.js";import"./fast-json-stable-stringify-eHEaCv8s.js";import"./timeago.js--Bumj2r9.js";import"./qrcode.vue-UdCmS1Sj.js";import"./vue3-touch-events-_RfbPMOD.js";import"./chart.js-JtqvIvkt.js";const ae=v({__name:"SetupWorkflowCredentialsButton",setup(B){const o=_(),i=E(),a=S(),u=T(),d=k(),p=n(()=>{var e,t;return!!((t=(e=o.workflow)==null?void 0:e.meta)!=null&&t.templateCredsSetupCompleted)}),l=n(()=>{if(p.value)return!0;const e=o.getNodes();return e.length?e.every(t=>b(i,t)):!1}),c=n(()=>{var r,s;const e=u.isFeatureEnabled(w),t=!!((s=(r=o.workflow)==null?void 0:r.meta)!=null&&s.templateId);return!e||!t||p.value?!1:!l.value}),f=y(l,e=>{e&&(o.addToWorkflowMetadata({templateCredsSetupCompleted:!0}),f())}),C=()=>{a.openModal(m)};return M(()=>{a.closeModal(m)}),(e,t)=>{const r=N("n8n-button");return c.value?(g(),I(r,{key:0,label:x(d).baseText("nodeView.setupTemplate"),size:"large",icon:"box-open",type:"secondary",onClick:t[0]||(t[0]=s=>C())},null,8,["label"])):A("",!0)}}});export{ae as default};
//# sourceMappingURL=SetupWorkflowCredentialsButton-YRXUCIqW.js.map
