import{u as $,l as N,m as v,V as t,h as R,A as f,cM as C,_ as d}from"./n8n-_nNvRoCf.js";import{m as I}from"./pinia-aUqqC48i.js";import{f as y}from"./index-xP-VuMjv.js";import{G as g,ag as n,l as _,m as h,T as o,O as r,I as i,p as a,R as p,S,K as O}from"./vendor-NNwioulI.js";import"./lodash-es-5z_C16pm.js";import"./axios-s2RMMPhA.js";import"./flatted-jPn12Tq4.js";import"./esprima-next-ulPLCZ1Z.js";import"./luxon-ZRIU05qF.js";import"./@vueuse/core-8g26_cc0.js";import"./uuid-McvpxQtQ.js";import"./vue-i18n-1PEMRmUU.js";import"./@n8n/permissions-8yMqUF1Y.js";import"./@n8n/codemirror-lang-sql-feLn5IS9.js";import"./@lezer/common-1hBQ1gIF.js";import"./codemirror-lang-html-n8n-wWQLhhqk.js";import"./prettier-s3fE3Qyr.js";import"./@jsplumb/util-DR0SB56A.js";import"./@jsplumb/core-MKwKlGip.js";import"./@jsplumb/common-Q5_tv_GT.js";import"./@jsplumb/connector-bezier-3dWY17R5.js";import"./@jsplumb/browser-ui-AlqFM-P6.js";import"./codemirror-lang-n8n-expression-HpIZnV_9.js";import"./fast-json-stable-stringify-eHEaCv8s.js";import"./timeago.js--Bumj2r9.js";import"./qrcode.vue-UdCmS1Sj.js";import"./vue3-touch-events-_RfbPMOD.js";import"./chart.js-JtqvIvkt.js";const U=g({name:"SettingsSidebar",mixins:[y],computed:{...I(v,N,$),settingsFakeDoorFeatures(){return this.uiStore.getFakeDoorByLocation("settings")},sidebarMenuItems(){const e=[{id:"settings-usage-and-plan",icon:"chart-bar",label:this.$locale.baseText("settings.usageAndPlan.title"),position:"top",available:this.canAccessUsageAndPlan(),route:{to:{name:t.USAGE}}},{id:"settings-personal",icon:"user-circle",label:this.$locale.baseText("settings.personal"),position:"top",available:this.canAccessPersonalSettings(),route:{to:{name:t.PERSONAL_SETTINGS}}},{id:"settings-users",icon:"user-friends",label:this.$locale.baseText("settings.users"),position:"top",available:this.canAccessUsersSettings(),route:{to:{name:t.USERS_SETTINGS}}},{id:"settings-api",icon:"plug",label:this.$locale.baseText("settings.n8napi"),position:"top",available:this.canAccessApiSettings(),route:{to:{name:t.API_SETTINGS}}},{id:"settings-external-secrets",icon:"vault",label:this.$locale.baseText("settings.externalSecrets.title"),position:"top",available:this.canAccessExternalSecrets(),route:{to:{name:t.EXTERNAL_SECRETS_SETTINGS}}},{id:"settings-audit-logs",icon:"clipboard-list",label:this.$locale.baseText("settings.auditLogs.title"),position:"top",available:this.canAccessAuditLogs(),route:{to:{name:t.AUDIT_LOGS}}},{id:"settings-source-control",icon:"code-branch",label:this.$locale.baseText("settings.sourceControl.title"),position:"top",available:this.canAccessSourceControl(),route:{to:{name:t.SOURCE_CONTROL}}},{id:"settings-sso",icon:"user-lock",label:this.$locale.baseText("settings.sso"),position:"top",available:this.canAccessSso(),route:{to:{name:t.SSO_SETTINGS}}},{id:"settings-ldap",icon:"network-wired",label:this.$locale.baseText("settings.ldap"),position:"top",available:this.canAccessLdapSettings(),route:{to:{name:t.LDAP_SETTINGS}}},{id:"settings-workersview",icon:"project-diagram",label:this.$locale.baseText("mainSidebar.workersView"),position:"top",available:this.settingsStore.isQueueModeEnabled&&R(["rbac"],{rbac:{scope:"workersView:manage"}}),route:{to:{name:t.WORKER_VIEW}}}];for(const s of this.settingsFakeDoorFeatures)s.uiLocations.includes("settings")&&e.push({id:s.id,icon:s.icon??"question",label:this.$locale.baseText(s.featureName),position:"top",available:!0,activateOnRoutePaths:[`/settings/coming-soon/${s.id}`]});return e.push({id:"settings-log-streaming",icon:"sign-in-alt",label:this.$locale.baseText("settings.log-streaming"),position:"top",available:this.canAccessLogStreamingSettings(),route:{to:{name:t.LOG_STREAMING_SETTINGS}}}),e.push({id:"settings-community-nodes",icon:"cube",label:this.$locale.baseText("settings.communityNodes"),position:"top",available:this.canAccessCommunityNodes(),route:{to:{name:t.COMMUNITY_NODES}}}),e}},methods:{canAccessPersonalSettings(){return this.canUserAccessRouteByName(t.PERSONAL_SETTINGS)},canAccessUsersSettings(){return this.canUserAccessRouteByName(t.USERS_SETTINGS)},canAccessCommunityNodes(){return this.canUserAccessRouteByName(t.COMMUNITY_NODES)},canAccessApiSettings(){return this.canUserAccessRouteByName(t.API_SETTINGS)},canAccessLdapSettings(){return this.canUserAccessRouteByName(t.LDAP_SETTINGS)},canAccessLogStreamingSettings(){return this.canUserAccessRouteByName(t.LOG_STREAMING_SETTINGS)},canAccessUsageAndPlan(){return this.canUserAccessRouteByName(t.USAGE)},canAccessExternalSecrets(){return this.canUserAccessRouteByName(t.EXTERNAL_SECRETS_SETTINGS)},canAccessSourceControl(){return this.canUserAccessRouteByName(t.SOURCE_CONTROL)},canAccessAuditLogs(){return this.canUserAccessRouteByName(t.AUDIT_LOGS)},canAccessSso(){return this.canUserAccessRouteByName(t.SSO_SETTINGS)},onVersionClick(){this.uiStore.openModal(f)},openUpdatesPanel(){this.uiStore.openModal(C)},async navigateTo(e){this.$router.currentRoute.name!==e&&await this.$router.push({name:e})},async handleSelect(e){switch(e){case"users":case"logging":this.$router.push({name:t.FAKE_DOOR,params:{featureId:e}}).catch(()=>{});break}}}}),G="_container_1ljnu_5",L="_returnButton_1ljnu_14",w="_versionContainer_1ljnu_22",B={container:G,returnButton:L,versionContainer:w},M={class:"mr-xs"};function k(e,s,c,l,A,b){const u=n("font-awesome-icon"),m=n("n8n-heading"),T=n("n8n-link"),E=n("n8n-menu");return _(),h("div",{class:i(e.$style.container)},[o(E,{items:e.sidebarMenuItems,onSelect:e.handleSelect},{header:r(()=>[a("div",{class:i(e.$style.returnButton),"data-test-id":"settings-back",onClick:s[0]||(s[0]=H=>e.$emit("return"))},[a("i",M,[o(u,{icon:"arrow-left"})]),o(m,{size:"large",bold:!0},{default:r(()=>[S(p(e.$locale.baseText("settings")),1)]),_:1})],2)]),menuSuffix:r(()=>[a("div",{class:i(e.$style.versionContainer)},[o(T,{size:"small",onClick:e.onVersionClick},{default:r(()=>[S(p(e.$locale.baseText("settings.version"))+" "+p(e.rootStore.versionCli),1)]),_:1},8,["onClick"])],2)]),_:1},8,["items","onSelect"])],2)}const P={$style:B},V=d(U,[["render",k],["__cssModules",P]]),x=g({name:"SettingsView",components:{SettingsSidebar:V},beforeRouteEnter(e,s,c){c(l=>{l.previousRoute=s})},data(){return{previousRoute:null}},methods:{onReturn(){this.$router.push(this.previousRoute?this.previousRoute.path:{name:t.HOMEPAGE})}}}),D=x,F="_container_f1dvd_5",K="_contentContainer_f1dvd_12 _container_f1dvd_5",j="_content_f1dvd_12",Y={container:F,contentContainer:K,content:j};function z(e,s,c,l,A,b){const u=n("SettingsSidebar"),m=n("router-view");return _(),h("div",{class:i(e.$style.container)},[o(u,{onReturn:e.onReturn},null,8,["onReturn"]),a("div",{class:i(e.$style.contentContainer)},[a("div",{class:i(e.$style.content)},[o(m,O({name:"settingsView"},e.$attrs),null,16)],2)],2)],2)}const W={$style:Y},Ne=d(D,[["render",z],["__cssModules",W]]);export{Ne as default};
//# sourceMappingURL=SettingsView-Z7FJvPG7.js.map
