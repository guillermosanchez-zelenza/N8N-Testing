import{m as O}from"./pinia-aUqqC48i.js";import{E as F,a as P}from"./ExecutionFilter-_0GCyo-5.js";import{e as N,fJ as U,v as H,u as j,V as A,a6 as B,cP as R,eM as q,x as z,O as Q,a5 as X,_ as $}from"./n8n-_nNvRoCf.js";import{e as G}from"./executionsHelpers-KIs5lrX4.js";import{a as J,av as K}from"./index-xP-VuMjv.js";import{G as M,aI as Y,ag as f,l as o,m as d,p as n,I as l,T as c,O as h,S,R as a,M as m,V as Z,U as ee,Q as w,F as te,a7 as se,a2 as I}from"./vendor-NNwioulI.js";import{_ as ie}from"./lodash-es-5z_C16pm.js";import"./axios-s2RMMPhA.js";import"./flatted-jPn12Tq4.js";import"./esprima-next-ulPLCZ1Z.js";import"./luxon-ZRIU05qF.js";import"./@vueuse/core-8g26_cc0.js";import"./uuid-McvpxQtQ.js";import"./vue-i18n-1PEMRmUU.js";import"./@n8n/permissions-8yMqUF1Y.js";import"./dateFormatter-e3zTcyK4.js";import"./@n8n/codemirror-lang-sql-feLn5IS9.js";import"./@lezer/common-1hBQ1gIF.js";import"./codemirror-lang-html-n8n-wWQLhhqk.js";import"./prettier-s3fE3Qyr.js";import"./@jsplumb/util-DR0SB56A.js";import"./@jsplumb/core-MKwKlGip.js";import"./@jsplumb/common-Q5_tv_GT.js";import"./@jsplumb/connector-bezier-3dWY17R5.js";import"./@jsplumb/browser-ui-AlqFM-P6.js";import"./codemirror-lang-n8n-expression-HpIZnV_9.js";import"./fast-json-stable-stringify-eHEaCv8s.js";import"./timeago.js--Bumj2r9.js";import"./qrcode.vue-UdCmS1Sj.js";import"./vue3-touch-events-_RfbPMOD.js";import"./chart.js-JtqvIvkt.js";const ne=M({name:"ExecutionsList",components:{ExecutionTime:F,ExecutionFilter:P},mixins:[G],props:{autoRefreshEnabled:{type:Boolean,default:!0}},setup(){const e=z(),t=Q(),s=X(),r=Y();return{i18n:e,telemetry:t,externalHooks:s,route:r,...N(),...J()}},data(){return{isMounting:!0,finishedExecutions:[],finishedExecutionsCount:0,finishedExecutionsCountEstimated:!1,allVisibleSelected:!1,allExistingSelected:!1,autoRefresh:!1,autoRefreshTimeout:void 0,filter:{},isDataLoading:!1,requestItemsPerRequest:10,selectedItems:{},stoppingExecutions:[],workflows:[]}},mounted(){U(`n8n - ${this.pageTitle}`),this.handleAutoRefreshToggle(),document.addEventListener("visibilitychange",this.onDocumentVisibilityChange)},async created(){this.autoRefresh=this.autoRefreshEnabled,await this.loadWorkflows(),this.externalHooks.run("executionsList.openDialog"),this.telemetry.track("User opened Executions log",{workflow_id:this.workflowsStore.workflowId})},beforeUnmount(){this.autoRefresh=!1,this.stopAutoRefreshInterval(),document.removeEventListener("visibilitychange",this.onDocumentVisibilityChange)},computed:{...O(j,H),activeExecutions(){return this.workflowsStore.activeExecutions},combinedExecutions(){const e=[];return["all","running"].includes(this.filter.status)&&e.push(...this.activeExecutions),["all","error","success","waiting"].includes(this.filter.status)&&e.push(...this.finishedExecutions),e.filter(t=>this.filter.workflowId==="all"||t.workflowId===this.filter.workflowId)},numSelected(){return this.allExistingSelected?this.finishedExecutionsCount:Object.keys(this.selectedItems).length},workflowFilterCurrent(){const e={};return this.filter.workflowId!=="all"&&(e.workflowId=this.filter.workflowId),e},workflowFilterPast(){return K(this.filter)},pageTitle(){return this.i18n.baseText("executionsList.workflowExecutions")}},methods:{closeDialog(){this.$emit("closeModal")},displayExecution(e){const t=this.$router.resolve({name:A.EXECUTION_PREVIEW,params:{name:e.workflowId,executionId:e.id}});window.open(t.href,"_blank")},async handleAutoRefreshToggle(){this.stopAutoRefreshInterval(),this.startAutoRefreshInterval()},handleCheckAllExistingChange(){this.allExistingSelected=!this.allExistingSelected,this.allVisibleSelected=!this.allExistingSelected,this.handleCheckAllVisibleChange()},handleCheckAllVisibleChange(){this.allVisibleSelected=!this.allVisibleSelected,this.allVisibleSelected?this.selectAllVisibleExecutions():(this.allExistingSelected=!1,this.selectedItems={})},handleCheckboxChanged(e){if(this.selectedItems[e]){const{[e]:t,...s}=this.selectedItems;this.selectedItems=s}else this.selectedItems={...this.selectedItems,[e]:!0};this.allVisibleSelected=Object.keys(this.selectedItems).length===this.combinedExecutions.length,this.allExistingSelected=Object.keys(this.selectedItems).length===this.finishedExecutionsCount},async handleDeleteSelected(){if(await this.confirm(this.i18n.baseText("executionsList.confirmMessage.message",{interpolate:{numSelected:this.numSelected.toString()}}),this.i18n.baseText("executionsList.confirmMessage.headline"),{type:"warning",confirmButtonText:this.i18n.baseText("executionsList.confirmMessage.confirmButtonText"),cancelButtonText:this.i18n.baseText("executionsList.confirmMessage.cancelButtonText")})!==B)return;this.isDataLoading=!0;const t={};this.allExistingSelected?t.deleteBefore=this.finishedExecutions[0].startedAt:t.ids=Object.keys(this.selectedItems),t.filters=this.workflowFilterPast;try{await this.workflowsStore.deleteExecutions(t)}catch(s){this.isDataLoading=!1,this.showError(s,this.i18n.baseText("executionsList.showError.handleDeleteSelected.title"));return}this.isDataLoading=!1,this.showMessage({title:this.i18n.baseText("executionsList.showMessage.handleDeleteSelected.title"),type:"success"}),this.handleClearSelection(),await this.refreshData()},handleClearSelection(){this.allVisibleSelected=!1,this.allExistingSelected=!1,this.selectedItems={}},async onFilterChanged(e){this.filter=e,await this.refreshData(),this.handleClearSelection(),this.isMounting=!1},async handleActionItemClick(e){if(["currentlySaved","original"].includes(e.command)){let t=!1;e.command==="currentlySaved"&&(t=!0),await this.retryExecution(e.execution,t),this.telemetry.track("User clicked retry execution button",{workflow_id:this.workflowsStore.workflowId,execution_id:e.execution.id,retry_type:t?"current":"original"})}e.command==="delete"&&await this.deleteExecution(e.execution)},getWorkflowName(e){var t;return(t=this.workflows.find(s=>s.id===e))==null?void 0:t.name},async loadActiveExecutions(){const e=R(this.workflowFilterCurrent.metadata)?await this.workflowsStore.getActiveExecutions(this.workflowFilterCurrent):[];for(const t of e)t.workflowId&&!t.workflowName&&(t.workflowName=this.getWorkflowName(t.workflowId));this.workflowsStore.activeExecutions=e,this.workflowsStore.addToCurrentExecutions(e)},async loadAutoRefresh(){const e=this.workflowFilterPast,t=[this.workflowsStore.getPastExecutions(e,this.requestItemsPerRequest)];R(e.metadata)&&t.push(this.workflowsStore.getActiveExecutions({}));const s=await Promise.all(t);for(const u of s[1])u.workflowId!==void 0&&u.workflowName===void 0&&(u.workflowName=this.getWorkflowName(u.workflowId));this.workflowsStore.activeExecutions=s[1];const r=[...this.finishedExecutions],C=r.map(u=>parseInt(u.id,10));let y=0;const T=[],p=s[0]||{results:[],count:0,estimated:!1};for(let u=p.results.length-1;u>=0;u--){const g=p.results[u],b=parseInt(g.id,10);if(y!==0&&!isNaN(b)&&b-y>1){const x=ie(y+1,b);T.push(...x)}y=parseInt(g.id,10)||0;const L=C.indexOf(b);if(L!==-1){r[L].finished===!1&&g.finished===!0&&(r[L]=g);continue}let E;for(E=r.length-1;E>=0;E--)if(b<parseInt(r[E].id,10)){r.splice(E+1,0,g);break}E===-1&&r.unshift(g)}const k=r.filter(u=>!T.includes(parseInt(u.id,10))&&y>=parseInt(u.id,10));this.finishedExecutionsCount=p.count,this.finishedExecutionsCountEstimated=p.estimated,this.finishedExecutions=k,this.workflowsStore.addToCurrentExecutions(k),this.adjustSelectionAfterMoreItemsLoaded()},async loadFinishedExecutions(){if(this.filter.status==="running"){this.finishedExecutions=[],this.finishedExecutionsCount=0,this.finishedExecutionsCountEstimated=!1;return}const e=await this.workflowsStore.getPastExecutions(this.workflowFilterPast,this.requestItemsPerRequest);this.finishedExecutions=e.results,this.finishedExecutionsCount=e.count,this.finishedExecutionsCountEstimated=e.estimated,this.workflowsStore.addToCurrentExecutions(e.results),this.finishedExecutions.length===0&&this.handleClearSelection()},async loadMore(){if(this.filter.status==="running")return;this.isDataLoading=!0;const e=this.workflowFilterPast;let t;this.finishedExecutions.length!==0&&(t=this.finishedExecutions.slice(-1)[0].id);let s;try{s=await this.workflowsStore.getPastExecutions(e,this.requestItemsPerRequest,t)}catch(r){this.isDataLoading=!1,this.showError(r,this.i18n.baseText("executionsList.showError.loadMore.title"));return}s.results=s.results.map(r=>({...r,mode:r.mode})),this.finishedExecutions.push(...s.results),this.finishedExecutionsCount=s.count,this.finishedExecutionsCountEstimated=s.estimated,this.isDataLoading=!1,this.workflowsStore.addToCurrentExecutions(s.results),this.adjustSelectionAfterMoreItemsLoaded()},async loadWorkflows(){try{const e=await this.workflowsStore.fetchAllWorkflows();e.sort((t,s)=>t.name.toLowerCase()<s.name.toLowerCase()?-1:t.name.toLowerCase()>s.name.toLowerCase()?1:0),e.unshift({id:"all",name:this.i18n.baseText("executionsList.allWorkflows")}),this.workflows=e}catch(e){this.showError(e,this.i18n.baseText("executionsList.showError.loadWorkflows.title"))}},async retryExecution(e,t){this.isDataLoading=!0;try{await this.workflowsStore.retryExecution(e.id,t)?this.showMessage({title:this.i18n.baseText("executionsList.showMessage.retrySuccessfulTrue.title"),type:"success"}):this.showMessage({title:this.i18n.baseText("executionsList.showMessage.retrySuccessfulFalse.title"),type:"error"}),this.isDataLoading=!1}catch(s){this.showError(s,this.i18n.baseText("executionsList.showError.retryExecution.title")),this.isDataLoading=!1}},async refreshData(){this.isDataLoading=!0;try{await Promise.all([this.loadActiveExecutions(),this.loadFinishedExecutions()])}catch(e){this.showError(e,this.i18n.baseText("executionsList.showError.refreshData.title"))}this.isDataLoading=!1},getStatus(e){if(e.status)return e.status;{let t="unknown";return e.waitTill?t="waiting":e.stoppedAt===void 0?t="running":e.finished?t="success":e.stoppedAt!==null?t="failed":t="unknown",t}},getRowClass(e){return[this.$style.execRow,this.$style[this.getStatus(e)]].join(" ")},getStatusText(e){const t=this.getStatus(e);let s="";return t==="waiting"?s=this.i18n.baseText("executionsList.waiting"):t==="canceled"?s=this.i18n.baseText("executionsList.canceled"):t==="crashed"?s=this.i18n.baseText("executionsList.error"):t==="new"?s=this.i18n.baseText("executionsList.running"):t==="running"?s=this.i18n.baseText("executionsList.running"):t==="success"?s=this.i18n.baseText("executionsList.succeeded"):t==="failed"?s=this.i18n.baseText("executionsList.error"):s=this.i18n.baseText("executionsList.unknown"),s},getStatusTextTranslationPath(e){const t=this.getStatus(e);let s="";return t==="waiting"?s="executionsList.statusWaiting":t==="canceled"?s="executionsList.statusCanceled":["crashed","failed","success"].includes(t)?e.stoppedAt?s="executionsList.statusText":s="executionsList.statusTextWithoutTime":t==="new"||t==="running"?s="executionsList.statusRunning":s="executionsList.statusUnknown",s},getStatusTooltipText(e){const t=this.getStatus(e);let s="";return t==="waiting"&&this.isWaitTillIndefinite(e)&&(s=this.i18n.baseText("executionsList.statusTooltipText.theWorkflowIsWaitingIndefinitely")),s},async stopExecution(e){try{this.stoppingExecutions.push(e),await this.workflowsStore.stopCurrentExecution(e);const t=this.stoppingExecutions.indexOf(e);this.stoppingExecutions.splice(t,1),this.showMessage({title:this.i18n.baseText("executionsList.showMessage.stopExecution.title"),message:this.i18n.baseText("executionsList.showMessage.stopExecution.message",{interpolate:{activeExecutionId:e}}),type:"success"}),await this.refreshData()}catch(t){this.showError(t,this.i18n.baseText("executionsList.showError.stopExecution.title"))}},isExecutionRetriable(e){return e.stoppedAt!==void 0&&!e.finished&&e.retryOf===void 0&&e.retrySuccessId===void 0&&!e.waitTill},async deleteExecution(e){this.isDataLoading=!0;try{await this.workflowsStore.deleteExecutions({ids:[e.id]}),await this.refreshData(),this.allVisibleSelected&&(this.selectedItems={},this.selectAllVisibleExecutions())}catch(t){this.showError(t,this.i18n.baseText("executionsList.showError.handleDeleteSelected.title"))}this.isDataLoading=!0},isWaitTillIndefinite(e){return e.waitTill?new Date(e.waitTill).toISOString()===q:!1},isRunning(e){return this.getStatus(e)==="running"},selectAllVisibleExecutions(){this.combinedExecutions.forEach(e=>{this.selectedItems={...this.selectedItems,[e.id]:!0}})},adjustSelectionAfterMoreItemsLoaded(){this.allExistingSelected&&(this.allVisibleSelected=!0,this.selectAllVisibleExecutions())},async startAutoRefreshInterval(){this.autoRefresh&&this.route.name===A.EXECUTIONS&&(await this.loadAutoRefresh(),this.autoRefreshTimeout=setTimeout(()=>{this.startAutoRefreshInterval()},4*1e3))},stopAutoRefreshInterval(){clearTimeout(this.autoRefreshTimeout),this.autoRefreshTimeout=void 0},onDocumentVisibilityChange(){document.visibilityState==="hidden"?this.stopAutoRefreshInterval():this.startAutoRefreshInterval()}}}),oe="_execListWrapper_1h4m6_5",le="_execList_1h4m6_5",ae="_execListHeader_1h4m6_26",re="_execListHeaderControls_1h4m6_33",ue="_selectionOptions_1h4m6_39",de="_statusColumn_1h4m6_57",ce="_spinner_1h4m6_62",he="_status_1h4m6_57",fe="_crashed_1h4m6_72",me="_failed_1h4m6_72",we="_waiting_1h4m6_75",pe="_success_1h4m6_78",ge="_running_1h4m6_81",Ee="_unknown_1h4m6_84",ye="_buttonCell_1h4m6_88",ke="_execRow_1h4m6_95",be="_execTable_1h4m6_99",xe="_loadMore_1h4m6_182",Te="_loadedAll_1h4m6_188",Le="_actions_1h4m6_195",Se="_deleteOnly_1h4m6_195",Ce="_retryAction_1h4m6_199",_e="_deleteAction_1h4m6_199",ve="_selectAll_1h4m6_203",Ie="_filterLoader_1h4m6_209",Ae="_tableLoader_1h4m6_214",Re="_link_1h4m6_220",$e={execListWrapper:oe,execList:le,execListHeader:ae,execListHeaderControls:re,selectionOptions:ue,statusColumn:de,spinner:ce,status:he,crashed:fe,failed:me,waiting:we,success:pe,new:"_new_1h4m6_81",running:ge,unknown:Ee,buttonCell:ye,execRow:ke,execTable:be,loadMore:xe,loadedAll:Te,actions:Le,deleteOnly:Se,retryAction:Ce,deleteAction:_e,selectAll:ve,filterLoader:Ie,tableLoader:Ae,link:Re},Me={key:1},Ve=n("th",null,null,-1),De=n("th",null,null,-1),We=n("th",null,null,-1),Oe=n("th",null,null,-1),Fe=["onClick"],Pe={key:0},Ne={key:1},Ue={key:0},He={key:1},je=n("br",null,null,-1),Be={key:2},qe=n("br",null,null,-1),ze={class:"retry-button"};function Qe(e,t,s,r,C,y){const T=f("n8n-heading"),p=f("n8n-loading"),k=f("el-checkbox"),u=f("ExecutionFilter"),g=f("font-awesome-icon"),b=f("ExecutionTime"),L=f("i18n-t"),E=f("n8n-tooltip"),x=f("n8n-button"),V=f("n8n-icon-button"),_=f("el-dropdown-item"),D=f("el-dropdown-menu"),W=f("el-dropdown");return o(),d("div",{class:l(e.$style.execListWrapper)},[n("div",{class:l(e.$style.execList)},[n("div",{class:l(e.$style.execListHeader)},[c(T,{tag:"h1",size:"2xlarge"},{default:h(()=>[S(a(e.pageTitle),1)]),_:1}),n("div",{class:l(e.$style.execListHeaderControls)},[e.isMounting?(o(),m(p,{key:0,class:l(e.$style.filterLoader),variant:"custom"},null,8,["class"])):(o(),m(k,{key:1,modelValue:e.autoRefresh,"onUpdate:modelValue":[t[0]||(t[0]=i=>e.autoRefresh=i),e.handleAutoRefreshToggle],class:"mr-xl","data-test-id":"execution-auto-refresh-checkbox"},{default:h(()=>[S(a(e.i18n.baseText("executionsList.autoRefresh")),1)]),_:1},8,["modelValue","onUpdate:modelValue"])),Z(c(u,{workflows:e.workflows,onFilterChanged:e.onFilterChanged},null,8,["workflows","onFilterChanged"]),[[ee,!e.isMounting]])],2)],2),e.allVisibleSelected&&e.finishedExecutionsCount>0?(o(),m(k,{key:0,class:l(e.$style.selectAll),label:e.i18n.baseText("executionsList.selectAll",{adjustToNumber:e.finishedExecutionsCount,interpolate:{executionNum:e.finishedExecutionsCount}}),"model-value":e.allExistingSelected,"data-test-id":"select-all-executions-checkbox","onUpdate:modelValue":e.handleCheckAllExistingChange},null,8,["class","label","model-value","onUpdate:modelValue"])):w("",!0),e.isMounting?(o(),d("div",Me,[c(p,{class:l(e.$style.tableLoader),variant:"custom"},null,8,["class"]),c(p,{class:l(e.$style.tableLoader),variant:"custom"},null,8,["class"]),c(p,{class:l(e.$style.tableLoader),variant:"custom"},null,8,["class"])])):(o(),d("table",{key:2,class:l(e.$style.execTable)},[n("thead",null,[n("tr",null,[n("th",null,[c(k,{"model-value":e.allVisibleSelected,disabled:e.finishedExecutionsCount<1,label:"","data-test-id":"select-visible-executions-checkbox","onUpdate:modelValue":e.handleCheckAllVisibleChange},null,8,["model-value","disabled","onUpdate:modelValue"])]),n("th",null,a(e.i18n.baseText("executionsList.name")),1),n("th",null,a(e.i18n.baseText("executionsList.startedAt")),1),n("th",null,a(e.i18n.baseText("executionsList.status")),1),n("th",null,a(e.i18n.baseText("executionsList.id")),1),Ve,De,We,Oe])]),n("tbody",null,[(o(!0),d(te,null,se(e.combinedExecutions,i=>(o(),d("tr",{key:i.id,class:l(e.getRowClass(i))},[n("td",null,[i.stoppedAt!==void 0&&i.id?(o(),m(k,{key:0,"model-value":e.selectedItems[i.id]||e.allExistingSelected,label:"","data-test-id":"select-execution-checkbox","onUpdate:modelValue":v=>e.handleCheckboxChanged(i.id)},null,8,["model-value","onUpdate:modelValue"])):w("",!0)]),n("td",null,[n("span",{onClick:I(v=>e.displayExecution(i),["stop"])},[n("a",{href:"#",class:l(e.$style.link)},a(i.workflowName||e.i18n.baseText("executionsList.unsavedWorkflow")),3)],8,Fe)]),n("td",null,[n("span",null,a(e.formatDate(i.startedAt)),1)]),n("td",null,[n("div",{class:l(e.$style.statusColumn)},[e.isRunning(i)?(o(),d("span",{key:0,class:l(e.$style.spinner)},[c(g,{icon:"spinner",spin:""})],2)):w("",!0),e.isWaitTillIndefinite(i)?(o(),m(E,{key:2,placement:"top"},{content:h(()=>[n("span",null,a(e.getStatusTooltipText(i)),1)]),default:h(()=>[n("span",{class:l(e.$style.status)},a(e.getStatusText(i)),3)]),_:2},1024)):(o(),m(L,{key:1,tag:"span",keypath:e.getStatusTextTranslationPath(i)},{status:h(()=>[n("span",{class:l(e.$style.status)},a(e.getStatusText(i)),3)]),time:h(()=>[i.waitTill?(o(),d("span",Pe,a(e.formatDate(i.waitTill)),1)):i.stoppedAt!==null&&i.stoppedAt!==void 0?(o(),d("span",Ne,a(e.i18n.displayTimer(new Date(i.stoppedAt).getTime()-new Date(i.startedAt).getTime(),!0)),1)):(o(),m(b,{key:2,"start-time":i.startedAt},null,8,["start-time"]))]),_:2},1032,["keypath"]))],2)]),n("td",null,[i.id?(o(),d("span",Ue,"#"+a(i.id),1)):w("",!0),i.retryOf?(o(),d("span",He,[je,n("small",null," ("+a(e.i18n.baseText("executionsList.retryOf"))+" #"+a(i.retryOf)+") ",1)])):i.retrySuccessId?(o(),d("span",Be,[qe,n("small",null," ("+a(e.i18n.baseText("executionsList.successRetry"))+" #"+a(i.retrySuccessId)+") ",1)])):w("",!0)]),n("td",null,[i.mode==="manual"?(o(),m(E,{key:0,placement:"top"},{content:h(()=>[n("span",null,a(e.i18n.baseText("executionsList.test")),1)]),default:h(()=>[c(g,{icon:"flask"})]),_:1})):w("",!0)]),n("td",null,[n("div",{class:l(e.$style.buttonCell)},[i.stoppedAt!==void 0&&i.id?(o(),m(x,{key:0,size:"small",outline:"",label:e.i18n.baseText("executionsList.view"),onClick:I(v=>e.displayExecution(i),["stop"])},null,8,["label","onClick"])):w("",!0)],2)]),n("td",null,[n("div",{class:l(e.$style.buttonCell)},[i.stoppedAt===void 0||i.waitTill?(o(),m(x,{key:0,size:"small",outline:"",label:e.i18n.baseText("executionsList.stop"),loading:e.stoppingExecutions.includes(i.id),onClick:I(v=>e.stopExecution(i.id),["stop"])},null,8,["label","loading","onClick"])):w("",!0)],2)]),n("td",null,[e.isRunning(i)?w("",!0):(o(),m(W,{key:0,trigger:"click",onCommand:e.handleActionItemClick},{dropdown:h(()=>[c(D,{class:l({[e.$style.actions]:!0,[e.$style.deleteOnly]:!e.isExecutionRetriable(i)})},{default:h(()=>[e.isExecutionRetriable(i)?(o(),m(_,{key:0,class:l(e.$style.retryAction),command:{command:"currentlySaved",execution:i}},{default:h(()=>[S(a(e.i18n.baseText("executionsList.retryWithCurrentlySavedWorkflow")),1)]),_:2},1032,["class","command"])):w("",!0),e.isExecutionRetriable(i)?(o(),m(_,{key:1,class:l(e.$style.retryAction),command:{command:"original",execution:i}},{default:h(()=>[S(a(e.i18n.baseText("executionsList.retryWithOriginalWorkflow")),1)]),_:2},1032,["class","command"])):w("",!0),c(_,{class:l(e.$style.deleteAction),command:{command:"delete",execution:i}},{default:h(()=>[S(a(e.i18n.baseText("generic.delete")),1)]),_:2},1032,["class","command"])]),_:2},1032,["class"])]),default:h(()=>[n("span",ze,[c(V,{text:"",type:"tertiary",size:"mini",title:e.i18n.baseText("executionsList.retryExecution"),icon:"ellipsis-v"},null,8,["title"])])]),_:2},1032,["onCommand"]))])],2))),128))])],2)),!e.combinedExecutions.length&&!e.isMounting&&!e.isDataLoading?(o(),d("div",{key:3,class:l(e.$style.loadedAll),"data-test-id":"execution-list-empty"},a(e.i18n.baseText("executionsList.empty")),3)):e.finishedExecutionsCount>e.finishedExecutions.length||e.finishedExecutionsCountEstimated?(o(),d("div",{key:4,class:l(e.$style.loadMore)},[c(x,{icon:"sync",title:e.i18n.baseText("executionsList.loadMore"),label:e.i18n.baseText("executionsList.loadMore"),loading:e.isDataLoading,"data-test-id":"load-more-button",onClick:t[1]||(t[1]=i=>e.loadMore())},null,8,["title","label","loading"])],2)):!e.isMounting&&!e.isDataLoading?(o(),d("div",{key:5,class:l(e.$style.loadedAll),"data-test-id":"execution-all-loaded"},a(e.i18n.baseText("executionsList.loadedAll")),3)):w("",!0)],2),e.numSelected>0?(o(),d("div",{key:0,class:l(e.$style.selectionOptions),"data-test-id":"selected-executions-info"},[n("span",null,a(e.i18n.baseText("executionsList.selected",{adjustToNumber:e.numSelected,interpolate:{numSelected:e.numSelected}})),1),c(x,{label:e.i18n.baseText("generic.delete"),type:"tertiary","data-test-id":"delete-selected-button",onClick:e.handleDeleteSelected},null,8,["label","onClick"]),c(x,{label:e.i18n.baseText("executionsList.clearSelection"),type:"tertiary","data-test-id":"clear-selection-button",onClick:e.handleClearSelection},null,8,["label","onClick"])],2)):w("",!0)],2)}const Xe={$style:$e},Ge=$(ne,[["render",Qe],["__cssModules",Xe]]),Je=M({name:"ExecutionsView",components:{ExecutionsList:Ge}});function Ke(e,t,s,r,C,y){const T=f("ExecutionsList");return o(),m(T)}const It=$(Je,[["render",Ke]]);export{It as default};
//# sourceMappingURL=ExecutionsView-bkUZ7caS.js.map
