import{m as S}from"./pinia-aUqqC48i.js";import{T as v}from"./TemplateDetails-ODkdkgqi.js";import{T as C}from"./TemplateList-l63ZcdEV.js";import{T as I}from"./TemplatesView-iIGCTbv6.js";import{w as V,I as T}from"./index-xP-VuMjv.js";import{as as E,fJ as h,V as B,y as F,a5 as W,_ as H}from"./n8n-_nNvRoCf.js";import{u as N}from"./templateActions-cwvPeOiI.js";import{G as O,ag as t,l,M as m,a9 as A,O as s,p as r,I as n,m as p,T as a,Q as c,S as d,R as u}from"./vendor-NNwioulI.js";import"./NodeList-_14w6OPV.js";import"./@n8n/codemirror-lang-sql-feLn5IS9.js";import"./@lezer/common-1hBQ1gIF.js";import"./codemirror-lang-html-n8n-wWQLhhqk.js";import"./prettier-s3fE3Qyr.js";import"./@jsplumb/util-DR0SB56A.js";import"./@jsplumb/core-MKwKlGip.js";import"./@jsplumb/common-Q5_tv_GT.js";import"./@jsplumb/connector-bezier-3dWY17R5.js";import"./lodash-es-5z_C16pm.js";import"./@jsplumb/browser-ui-AlqFM-P6.js";import"./uuid-McvpxQtQ.js";import"./luxon-ZRIU05qF.js";import"./esprima-next-ulPLCZ1Z.js";import"./@vueuse/core-8g26_cc0.js";import"./codemirror-lang-n8n-expression-HpIZnV_9.js";import"./fast-json-stable-stringify-eHEaCv8s.js";import"./timeago.js--Bumj2r9.js";import"./qrcode.vue-UdCmS1Sj.js";import"./vue3-touch-events-_RfbPMOD.js";import"./chart.js-JtqvIvkt.js";import"./axios-s2RMMPhA.js";import"./flatted-jPn12Tq4.js";import"./vue-i18n-1PEMRmUU.js";import"./@n8n/permissions-8yMqUF1Y.js";const D=O({name:"TemplatesCollectionView",components:{TemplateDetails:v,TemplateList:C,TemplatesView:I},mixins:[V],setup(){return{externalHooks:W()}},computed:{...S(T,E),collection(){return this.templatesStore.getCollectionById(this.collectionId)},collectionId(){return Array.isArray(this.$route.params.id)?this.$route.params.id[0]:this.$route.params.id},collectionWorkflows(){return this.collection?this.collection.workflows.map(({id:e})=>this.templatesStore.getTemplateById(e.toString())):null}},data(){return{loading:!0,notFoundError:!1}},watch:{collection(e){e?h(`n8n - Template collection: ${e.name}`):h("n8n - Templates")}},async mounted(){if(this.scrollToTop(),this.collection&&this.collection.full){this.loading=!1;return}try{await this.templatesStore.fetchCollectionById(this.collectionId)}catch{this.notFoundError=!0}this.loading=!1},methods:{scrollToTop(){setTimeout(()=>{const e=document.getElementById("content");e&&e.scrollTo({top:0,behavior:"smooth"})},50)},onOpenTemplate({event:e,id:o}){this.navigateTo(e,B.TEMPLATE,o)},async onUseWorkflow({event:e,id:o}){await N({posthogStore:this.posthogStore,router:this.$router,templateId:o,inNewBrowserTab:e.metaKey||e.ctrlKey,templatesStore:T(),externalHooks:this.externalHooks,nodeTypesStore:F(),telemetry:this.$telemetry,source:"template_list"})},navigateTo(e,o,i){if(e.metaKey||e.ctrlKey){const f=this.$router.resolve({name:o,params:{id:i}});window.open(f.href,"_blank");return}else this.$router.push({name:o,params:{id:i}})}}}),K="_wrapper_19isr_5",L="_notFound_19isr_15",M="_title_19isr_19",U="_button_19isr_23",z="_mainContent_19isr_27",P="_markdown_19isr_38",G="_details_19isr_42",J={wrapper:K,notFound:L,title:M,button:U,mainContent:z,markdown:P,details:G};function Q(e,o,i,f,j,q){const g=t("n8n-heading"),w=t("n8n-text"),k=t("n8n-loading"),y=t("n8n-markdown"),$=t("TemplateList"),_=t("TemplateDetails"),b=t("TemplatesView");return l(),m(b,{"go-back-enabled":!0},A({header:s(()=>[e.notFoundError?(l(),p("div",{key:1,class:n(e.$style.notFound)},[a(w,{color:"text-base"},{default:s(()=>[d(u(e.$locale.baseText("templates.collectionsNotFound")),1)]),_:1})],2)):(l(),p("div",{key:0,class:n(e.$style.wrapper)},[r("div",{class:n(e.$style.title)},[e.collection&&e.collection.name?(l(),m(g,{key:0,tag:"h1",size:"2xlarge"},{default:s(()=>[d(u(e.collection.name),1)]),_:1})):c("",!0),e.collection&&e.collection.name?(l(),m(w,{key:1,color:"text-base",size:"small"},{default:s(()=>[d(u(e.$locale.baseText("templates.collection")),1)]),_:1})):c("",!0),a(k,{loading:!e.collection||!e.collection.name,rows:2,variant:"h1"},null,8,["loading"])],2)],2))]),_:2},[e.notFoundError?void 0:{name:"content",fn:s(()=>[r("div",{class:n(e.$style.wrapper)},[r("div",{class:n(e.$style.mainContent)},[e.loading||e.collection&&e.collection.description?(l(),p("div",{key:0,class:n(e.$style.markdown)},[a(y,{content:e.collection&&e.collection.description,images:e.collection&&e.collection.image,loading:e.loading},null,8,["content","images","loading"])],2)):c("",!0),a($,{"infinite-scroll-enabled":!1,loading:e.loading,"use-workflow-button":!0,workflows:e.loading?[]:e.collectionWorkflows,onUseWorkflow:e.onUseWorkflow,onOpenTemplate:e.onOpenTemplate},null,8,["loading","workflows","onUseWorkflow","onOpenTemplate"])],2),r("div",{class:n(e.$style.details)},[a(_,{"block-title":e.$locale.baseText("template.details.appsInTheCollection"),loading:e.loading,template:e.collection},null,8,["block-title","loading","template"])],2)],2)]),key:"0"}]),1024)}const R={$style:J},Ee=H(D,[["render",Q],["__cssModules",R]]);export{Ee as default};
//# sourceMappingURL=TemplatesCollectionView-pEINVGSZ.js.map
